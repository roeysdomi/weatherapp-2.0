(this["webpackJsonpwheather-app"]=this["webpackJsonpwheather-app"]||[]).push([[0],{14:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(7),o=c.n(r),i=(c(31),c.p,c(32),c(33),c(14),c(3)),s=c(8),l=c(1),u=function(e){var t,c=Object(i.c)((function(e){return e.locid})),n=e.info,r=function(e){e.toString.length;var t=e;e<10&&(t="0"+t);return"https://developer.accuweather.com/sites/default/files/"+t+"-s.png"}(n.Day.Icon),o=function(e){var t=new Date(e).getDay();if(0==t)return"Sunday";if(1==t)return"Monday";if(2==t)return"Tuesday";if(3==t)return"Wednesday";if(4==t)return"Thursday";if(5==t)return"Friday";if(6==t)return"Saturday"}(n.Date),u=(t=n.Temperature.Maximum.Value,parseInt(5*(t-32)/9));var d=Object(a.useRef)("");return Object(a.useEffect)((function(){s.a.from(d.current,1.3,{y:-20,opacity:0,ease:"power4.out",delay:.8,skewY:0,stagger:{amount:2.3}})}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{ref:d,className:"Card shadow",children:[Object(l.jsxs)("div",{className:"Card-title",children:[c.name,Object(l.jsx)("br",{}),Object(l.jsx)("span",{children:o})," "]}),Object(l.jsxs)("div",{className:"Temp",children:[u,".C"]}),Object(l.jsx)("div",{className:"weath-info",children:n.Day.IconPhrase}),Object(l.jsx)("div",{className:"Icon",children:Object(l.jsx)("img",{src:r,alt:""})})]})})},d=c(26),f=c(6),j=c.n(f),O="9tEgAqDCiVOONst2cOxANpbgyipyBBxa",b="FETCH_LOC5DAYS_REQUEST",v="FETCH_LOC5DAYS_FAILURE",p="FETCH_LOC5DAYS_SUCCESS",h=c(5),m=(c(10),function(e){return function(t){t(y()),j.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(O)).then((function(e){var c=e.data;t(g(c))})).catch((function(e){t(x(e.message)),h.a.error("fail to load 5 days",{autoClose:4e3})}))}}),y=function(){return{type:b}},g=function(e){return{type:p,payload:e.DailyForecasts}},x=function(e){return{type:v,payload:e}},C="FETCH_LOCID_REQUEST",L="FETCH_LOCID_FAILURE",E="FETCH_LOCID_SUCCESS",I="SET_ID",F=function(e){return function(t){t(N()),j.a.get("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(O,"&q=").concat(e)).then((function(e){var c=e.data;t(T(c))})).catch((function(e){t(S(e.message)),h.a.error("fail to get location id",{autoClose:4e3})}))}},N=function(){return{type:C}},T=function(e){return{type:E,payload:e[0]}},S=function(e){return{type:L,payload:e}},_="FETCH_LOCINFO_REQUEST",A="FETCH_LOCINFO_FAILURE",k="FETCH_LOCINFO_SUCCESS",w="RESET_INFO",R=function(e){return function(t){t(D()),j.a.get("http://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat(O,"&details=true")).then((function(e){var c=e.data;t(H(c))})).catch((function(e){t(V(e.message)),h.a.error("fail to get location information",{autoClose:4e3})}))}},D=function(){return{type:_}},H=function(e){return{type:k,payload:e}},V=function(e){return{type:A,payload:e}},M="CHANGE_PAGE_TO_FAV",B="CHANGE_PAGE_TO_SEARCH",P="ADD_TO_FAVLIST",W="LOADING_FAV_LIST",U="FAV_CLICKED",Y="SET_FAV_LIST",G="REMOVE_FAV",Q="RESET_UPDATED_FAV_LIST",q=function(e){return{type:U,payload:e}},J=function(){return{type:B,payload:"search"}},K=function(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),n=c[0],r=c[1],o=Object(i.c)((function(e){return e.locid})),s=Object(i.c)((function(e){return e.locinfo})),u=Object(i.b)();return Object(a.useEffect)((function(){s.LocInfo||u(F("tel aviv"))}),[]),Object(a.useEffect)((function(){""===o.LocId&&o.LocId===[]||o.LocId&&(u(R(o.LocId)),u(m(o.LocId)))}),[o.LocId]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"SearchBar shadow",children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),u(F(n))},children:Object(l.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)}})})})})};function z(e){var t="";for(var c in e){t=t+e[c]+","}return t}c(57);var X=function(){h.a.configure();var e=Object(i.b)(),t=Object(i.c)((function(e){return e.general})),c=Object(i.c)((function(e){return e.locinfo})),n=Object(i.c)((function(e){return e.locid})),r=Object(i.c)((function(e){return e.loc5days.loc5days}));!function(){if(t.clicked){var c=t.clicked.split("|"),a=c[0].split("-"),n=c[1];e({type:I,payload:n}),e(F(a[0])),e(R(n)),e(m(n)),e(q(""))}}();var o=c.LocInfo?c.LocInfo[0].WeatherText:"",d=c.LocInfo?c.LocInfo[0].Temperature.Metric.Value:"",f=n.name;var j=Object(a.useRef)(""),O=Object(a.useRef)("");Object(a.useEffect)((function(){s.a.from(j.current,1.3,{y:20,opacity:0,ease:"power4.out",delay:2,skewY:0,stagger:{amount:2.3}}),s.a.from(O.current,1.3,{y:-20,opacity:0,ease:"power4.out",delay:1,skewY:0,stagger:{amount:2.3}})}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(K,{}),Object(l.jsxs)("div",{className:"con-Result-Search",children:[Object(l.jsxs)("div",{className:"Result-title",children:[Object(l.jsxs)("div",{ref:j,className:"CityAndTemp",children:["The Current temperator in ",f,": ",d,".C"]}),Object(l.jsx)("div",{className:"Weather-desc",children:o}),Object(l.jsx)("div",{onClick:function(){var c;h.a.success("Added to Favorite list",{autoClose:2e3}),e((c=f+"-"+n.LocId,{type:P,payload:c}));var a=z(t.favlist);localStorage.setItem("savedFavList",a)},className:"FavButton",children:"Add to Favoritem +"})]}),Object(l.jsxs)("div",{className:"con-cards",children:[Object(l.jsx)("div",{ref:O,className:"nextWeek-Title",children:" WEATHER BROADCAST:"}),Object(l.jsx)("div",{className:"nextWeek",children:function(e){var t=[];return e?(e.map((function(e){t.push(Object(l.jsx)(u,{info:e},e.Date))})),t):Object(l.jsx)(l.Fragment,{})}(r)})]})]})]})},Z=function(e){var t=Object(i.b)(),c=(Object(i.c)((function(e){return e.locid})),Object(i.c)((function(e){return e.loc5days})),e.info[0]),a=c.Link.split("/")[5],n=s(c.WeatherIcon),r=(s(c.WeatherText),c.ApparentTemperature.Metric.Value),o=function(e){return e.split("/")[6]}(c.Link);function s(e){e.toString.length;var t=e;e<10&&(t="0"+t);return"https://developer.accuweather.com/sites/default/files/"+t+"-s.png"}return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"Card shadow fav-card-effect",children:[Object(l.jsx)("div",{className:"Card-title",children:a}),Object(l.jsxs)("div",{className:"Temp",children:[r,".C"]}),Object(l.jsx)("div",{className:"weath-info"}),Object(l.jsx)("div",{onClick:function(){t(q(a+"|"+o)),t(J())},className:"Icon",children:Object(l.jsx)("img",{src:n,alt:""})}),Object(l.jsx)("div",{onClick:function(){t({type:G,payload:o})},name:o,className:"remove-Favorite",children:"Remove"})]})})},$=(c(58),function(){var e=Object(i.c)((function(e){return e.general})),t=Object(i.c)((function(e){return e.locinfo})),c=Object(i.b)(),n=e.favlistloaded;function r(){var t=e.favlist;for(var a in t){!0;var n=t[a].split("-"),r=(n[0],n[1]);c(R(r))}}return Object(a.useEffect)((function(){if(t.LocInfo){var e=t.LocInfo;c({type:W,payload:e})}}),[t.LocInfo]),Object(a.useEffect)((function(){c({type:Q}),r();var t=z(e.favlist);localStorage.setItem("savedFavList",t)}),[e.favlist]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"con-Result-Search ",children:[Object(l.jsxs)("div",{className:"Result-title",children:[Object(l.jsx)("div",{className:"Favorite-title",children:"FAVORITES:"}),Object(l.jsx)("div",{onClick:function(){!0,r()},className:"load-Fav-button FavButton",children:"Load Favorite locations"})]}),Object(l.jsx)("div",{className:"con-cards fav-result",children:Object(l.jsx)("div",{className:"nextWeek nextweek-favpage",children:function(e){var t=[];for(var c in e){var a=e[c];t.push(a)}return t}(n).map((function(e){return Object(l.jsx)(Z,{info:e},e[0].Link)}))})})]})," "]})}),ee=function(){var e=Object(i.c)((function(e){return e.general})),t=Object(i.b)(),c=Object(a.useRef)(""),n=Object(a.useRef)("");return Object(a.useEffect)((function(){var e=localStorage.getItem("savedFavList");e=function(e){if(!e)return[];var t=[];return e.split(",").forEach((function(e){""!==e&&(t[e]=e)})),t}(e),t({type:Y,payload:e})}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"Main",children:[Object(l.jsxs)("div",{ref:c,className:"LeftMenu",children:[Object(l.jsxs)("div",{className:"Menu-title",children:["WEATHER APP BY ",Object(l.jsx)("span",{children:"HEROLO"})]}),Object(l.jsx)("div",{onClick:function(){t(J())},className:"Menu-Search PageOption",children:"Search"}),Object(l.jsx)("div",{onClick:function(){t({type:w,payload:""}),t({type:M,payload:"fav"})},className:"Menu-Favorite PageOption",children:"Favorite"}),Object(l.jsxs)("div",{className:"con-theme",children:[Object(l.jsx)("div",{className:"h1",children:"Change theme:"}),Object(l.jsxs)("div",{className:"con-buttons",children:[Object(l.jsx)("div",{onClick:function(){c.current.style.background="#1a237e",n.current.style.background="#eeeeee"},className:"day ThemeButt"}),Object(l.jsx)("div",{onClick:function(){c.current.style.background="black",n.current.style.background="#616161"},className:"night ThemeButt"})]}),Object(l.jsx)("div",{className:"email-roey",children:"roeysdomi@gmail.com"})]})]}),Object(l.jsx)("div",{ref:n,className:"con-Pages",children:"search"===e.page?Object(l.jsx)(X,{}):Object(l.jsx)($,{})})]})})},te=c(9),ce=c(23),ae=c(24),ne=c.n(ae),re=c(25),oe=c(2),ie={loading:!1,loc5days:[],error:""},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0});case p:return{loading:!1,loc5days:t.payload,error:""};case v:return{loading:!1,loc5days:"",error:t.payload};default:return e}},le={loading:!1,LocId:"",name:"",error:""},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(oe.a)(Object(oe.a)({},e),{},{LocId:t.payload});case C:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0});case E:return{loading:!1,LocId:t.payload.Key,name:t.payload.LocalizedName,error:""};case L:return{loading:!1,LocId:[],name:"",error:t.payload};default:return e}},de={loading:!1,LocInfo:"",error:""},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(oe.a)(Object(oe.a)({},e),{},{LocInfo:""});case _:return Object(oe.a)(Object(oe.a)({},e),{},{loading:!0});case k:return{loading:!1,LocInfo:t.payload,error:""};case A:return{loading:!1,LocInfo:"",error:t.payload};default:return e}},je={page:"search",favlist:[],favlistloaded:[],clicked:""},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(oe.a)(Object(oe.a)({},e),{},{favlistloaded:[]});case M:case B:return Object(oe.a)(Object(oe.a)({},e),{},{page:t.payload});case W:var c=e.favlistloaded;return c[t.payload[0].Link.split("/")[5]]=t.payload,Object(oe.a)(Object(oe.a)({},e),{},{favlistloaded:c});case P:var a=e.favlist;return a[t.payload]=t.payload,Object(oe.a)(Object(oe.a)({},e),{},{favlist:a});case U:return Object(oe.a)(Object(oe.a)({},e),{},{clicked:t.payload});case Y:return Object(oe.a)(Object(oe.a)({},e),{},{favlist:t.payload});case G:var n=e.favlist,r=[];for(var o in n)n[o].includes(t.payload)||(r[n[o]]=n[o]);return Object(oe.a)(Object(oe.a)({},e),{},{favlist:r});default:return e}},be=Object(te.combineReducers)({loc5days:se,locid:ue,locinfo:fe,general:Oe}),ve=Object(te.createStore)(be,Object(ce.composeWithDevTools)(Object(te.applyMiddleware)(ne.a,re.a)));var pe=function(){return Object(l.jsx)(i.a,{store:ve,children:Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(ee,{})})})},he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,61)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),a(e),n(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(pe,{})}),document.getElementById("root")),he()}},[[60,1,2]]]);
//# sourceMappingURL=main.7dbdedcf.chunk.js.map